{"mappings":"AAAO,SAASA,EAAUC,EAASC,GACjC,OAAOD,GAAW,GAAKC,EAAY,GAAKA,GAAa,GCDhD,MAAMC,EACXC,yBAAyBC,GACvB,MAAMC,EAAMC,IACZD,EAAIE,KAAKH,GACTI,aAAaC,QAAQ,QAASC,KAAKC,UAAUN,IAE/CF,wBACE,MAAMS,EAAQN,IACRO,EAAOD,EAAME,OACfF,EAAMG,IAAIC,GAAeC,KAAK,IAC9B,qDAEqBC,SAAhBC,eAAe,QAAQC,UAAYP,GAIhD,SAASP,IACP,OAAOI,KAAKW,MAAMb,aAAac,QAAQ,UAAY,MAGrD,SAASN,EAAcO,GACrB,MAAO,+C,sEAGmDC,qCCrB5D,MAAMC,EAAO,CACXC,SAAUR,SAASC,eAAe,aAClCQ,SAAUT,SAASC,eAAe,QAClCS,WAAYV,SAASC,eAAe,UACpCU,cAAeX,SAASC,eAAe,oBAGzCW,OAAOC,iBAAiB,OAAQ7B,EAAK8B,gBACrCP,EAAKC,SAASK,iBAAiB,UAQ/B,SAA2BE,GAGzB,GAFAA,EAAIC,iBAEAnC,EAAU0B,EAAKE,SAASQ,MAAMrB,OAAQW,EAAKG,WAAWO,MAAMrB,QAAS,CACvE,MAAMV,EAAU,CACdgC,MAAOX,EAAKE,SAASQ,MAAME,OAC3Bb,OAAQC,EAAKG,WAAWO,MAAME,QAGhCZ,EAAKI,cAAcS,UAAW,EAE9BpC,EAAKqC,kBAAkBnC,GACvBqB,EAAKE,SAASQ,MAAQ,GACtBV,EAAKG,WAAWO,MAAQ,GACxBV,EAAKI,cAAcS,UAAW,EAC9BpC,EAAK8B,qBAtBTP,EAAKC,SAASK,iBAAiB,SAAS,KACtCN,EAAKI,cAAcS,UAAYvC,EAC7B0B,EAAKE,SAASQ,MAAMrB,OACpBW,EAAKG,WAAWO,MAAMrB","sources":["src/js/utils.js","src/js/film.js","src/js/index.js"],"sourcesContent":["export function validForm(filmLen, ratingLen) {\n  return filmLen >= 5 && ratingLen > 0 && ratingLen <= 10;\n}\n","export class Film {\n  static createWithoutAuth(newFilm) {\n    const all = getFilmsFromLocalStorge();\n    all.push(newFilm);\n    localStorage.setItem('films', JSON.stringify(all));\n  }\n  static renderFilmList() {\n    const films = getFilmsFromLocalStorge();\n    const list = films.length\n      ? films.map(renderOneFilm).join('')\n      : `<li><p>У вас ещё нету фильмов в списке :(</p></li>`;\n\n    document.getElementById('list').innerHTML = list;\n  }\n}\n\nfunction getFilmsFromLocalStorge() {\n  return JSON.parse(localStorage.getItem('films') || '[]');\n}\n\nfunction renderOneFilm(film) {\n  return `\n    <li>\n        <p class=\"h4\">Название: ${film.title}</p>\n        <p class=\"h4\">Рейтинг: <span class=\"rating\">${film.rating}</span></p>\n    </li>\n    `;\n}\n","import { validForm } from './utils';\nimport { Film } from './film';\n\nconst refs = {\n  filmForm: document.getElementById('film-form'),\n  filmName: document.getElementById('film'),\n  filmRating: document.getElementById('rating'),\n  filmSubmitBtn: document.getElementById('film-submit-btn'),\n};\n\nwindow.addEventListener('load', Film.renderFilmList);\nrefs.filmForm.addEventListener('submit', filmSubmitHandler);\nrefs.filmForm.addEventListener('input', () => {\n  refs.filmSubmitBtn.disabled = !validForm(\n    refs.filmName.value.length,\n    refs.filmRating.value.length\n  );\n});\n\nfunction filmSubmitHandler(evt) {\n  evt.preventDefault();\n\n  if (validForm(refs.filmName.value.length, refs.filmRating.value.length)) {\n    const newFilm = {\n      title: refs.filmName.value.trim(),\n      rating: refs.filmRating.value.trim(),\n    };\n\n    refs.filmSubmitBtn.disabled = true;\n    // async fetch\n    Film.createWithoutAuth(newFilm);\n    refs.filmName.value = '';\n    refs.filmRating.value = '';\n    refs.filmSubmitBtn.disabled = false;\n    Film.renderFilmList();\n  }\n}\n"],"names":["$fe8af8a42c4a74bc$export$63d29192a71a09b0","filmLen","ratingLen","$037ceee3555e76e9$export$d5ceef4e30af8800","static","newFilm","all","$037ceee3555e76e9$var$getFilmsFromLocalStorge","push","localStorage","setItem","JSON","stringify","films","list","length","map","$037ceee3555e76e9$var$renderOneFilm","join","document","getElementById","innerHTML","parse","getItem","film","rating","$85a5f86b715fe7db$var$refs","filmForm","filmName","filmRating","filmSubmitBtn","window","addEventListener","renderFilmList","evt","preventDefault","value","title","trim","disabled","createWithoutAuth"],"version":3,"file":"index.d973593e.js.map"}